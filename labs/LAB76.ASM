IF1
INCLUDE C:\TASM\LAB76PRO.ASM
ENDIF

DATA SEGMENT PARA PUBLIC 'DATA'
MAX DB 5
DATA ENDS
;CITIRE MACRO
;LOCAL CITESTE,FINISH
;MOV DX,10
;MOV AH,01H
;INT 21H		;GET CHAR IN AL
;CMP AL,0DH
;JE FINISH
;SUB AL,30H
;XOR AH,AH
;PUSH AX
;CITESTE:
;MOV AH,01H
;INT 21H		;GET CHAR IN AL
;CMP AL,0DH
;JE FINISH
;SUB AL,30H
;XOR BX,BX
;MOV BL,AL
;POP AX		;GET NUMBER UNTIL NOW
;MOV DX,10
;MUL DX		;MULTIPLY BY 10
;ADD AX,BX	;ADD THE DIGIT READ NOW
;PUSH AX		;SALVAM CE AM CITIT PANA ACUMA
;JMP CITESTE

;FINISH:
;ENDM

CODE SEGMENT PARA PUBLIC 'CODE'
PUBLIC AFISARE				
ASSUME CS:CODE,DS:DATA
AFISARE PROC NEAR
MOV BX,10
MOV CL,5
REPETA:
	XOR DX,DX
	DIV BX	;IMPARTIM AX LA 10 SI PUNEM RESTUL PE STACK, CA LA SFARSIT SA LE AFISAM IN ORDINE INVERSA
	PUSH DX	;FACEM PENTRU FIECARE 5 CIFRA, AX FINW PE 16 BITI ARE MAXIM 5 CIFRE
LOOP REPETA
MOV CL,MAX

AFISEAZA:
MOV AH,02H
POP DX
ADD DX,30H
INT 21H
LOOP AFISEAZA
RET
AFISARE ENDP

START PROC NEAR
ASSUME CS:CODE,DS:DATA
MOV AX,DATA
MOV DS,AX
CITIRE
POP AX
	CALL AFISARE
MOV AH,4CH
INT 21H
RET
START ENDP
CODE ENDS
END START